[Voltar para a p√°gina anterior](../horarios/README.md#entendendo-o-cadastro-de-hor√°rio)

Sejam muito bem-vindos ao **guia de comunica√ß√£o** para os equipamentos DIXI. Aqui, voc√™ aprender√° como realizar a comunica√ß√£o/sincroniza√ß√£o de informa√ß√µes entre o sistema e nossos aparelhos mais utilizados, como o **IREP**, **SINDNOX** e **COLETOR FACIAL**.

Antes de seguirmos para as configura√ß√µes essenciais e a ordem cronol√≥gica dos procedimentos necess√°rios, √© v√°lido apresentar nossos equipamentos, aqueles que estabelecem comunica√ß√£o direta com o WEBDIXI.

# INTRODU√á√ÉO

### **‚Äî EQUIPAMENTOS**

## IREP

> Equipamento biom√©trico, com batida de ponto tamb√©m pela matr√≠cula e/ou crach√°.

**Descri√ß√£o:** O equipamento apresenta vers√µes nas portarias **671** e **1510**, destacando-se por suas funcionalidades biom√©tricas. √â capaz de realizar a identifica√ß√£o facial e leitura das impress√µes digitais do funcion√°rio, o n√∫mero de s√©rie localiza-se abaixo do teclado num√©rico.

Os procedimentos devem ser executados diretamente no equipamento f√≠sico ou alternativamente, a comunica√ß√£o pode ser realizada por meio do web server, uma interface web que facilita a intera√ß√£o e configura√ß√£o. [Clique aqui para saber mais.](###)

## SINDNOX

> Equipamento biom√©trico, com batida de ponto tamb√©m pela matr√≠cula e/ou crach√°.

**Descri√ß√£o:** O SINDNOX √© um equipamento semelhante ao IREP, dispondo de vers√µes nas portarias **373** e **671**. Tamb√©m biom√©trico, permitindo a identifica√ß√£o facial e a leitura das impress√µes digitais dos funcion√°rios. N√∫mero de s√©rie abaixo do teclado num√©rico, a comunica√ß√£o pode ser feita atrav√©s do equipamento f√≠sico ou ent√£o pelo web server. [Clique aqui para saber mais.](###)

## COLETOR FACIAL

> Equipamento facial.

**Descri√ß√£o:** Este dispositivo, enquadrado na portaria 671, tem sua principal fun√ß√£o voltada para a marca√ß√£o de ponto dos funcion√°rios. Diferencia-se pela simplicidade operacional, uma vez que n√£o demanda a impress√£o de comprovantes. √â importante notar que o Coletor Facial n√£o possui capacidade de conex√£o Wi-Fi. [Clique aqui para saber mais.](###)

üí° **Vantagem:** O Coletor Facial destaca-se pela sua facilidade na instala√ß√£o, uma vez que o cliente j√° recebe o equipamento *‚Äúcomunicando‚Äù* com o sistema, oferecendo uma solu√ß√£o direta e eficiente para essa finalidade espec√≠fica.


# PRIMEIROS PASSOS üêæ

> Os cadastros dos rel√≥gios IREP e SINDNOX s√£o muitos parecidos,¬†ent√£o vamos come√ßar aprendendo como cadastr√°-los no sistema e depois partiremos para os procedimentos de comunica√ß√£o.

## 1. FOTOS DO EQUIPAMENTO

üí° Para cadastrarmos um equipamento no sistema, precisamos de algumas informa√ß√µes dele, e a forma mais simples e eficiente de conseguirmos essas informa√ß√µes √© atrav√©s de fotos do rel√≥gio, sendo elas:

**1. Tela inicial do equipamento:** Essa foto informa se o equipamento tem ou n√£o a impressora, indicando se √© **IREP** ou **SINDNOX**;

**2. Tela de vers√£o e informa√ß√µes adicionais:** Informa qual √© a vers√£o do equipamento, identificando a portaria **671** ou **1510**;

**3. Tela de comunica√ß√£o:** Essa foto informa o **IP LOCAL** e **MAC,** tamb√©m informa como est√£o as **configura√ß√µes atuais de comunica√ß√£o no equipamento**, inclusive se o equipamento est√° conectado via **cabo de rede** ou **WI-FI**;

**4. N√∫mero de fabrica√ß√£o:** Essa foto informa o identificador do equipamento. (informando qual portaria o rel√≥gio pertence)

#### Como pedir essas fotos? Clone:
```
1. Foto da tela inicial do equipamento;
2. Foto do n√∫mero de fabrica√ß√£o (ele se localiza abaixo do teclado num√©rico);
3. Clique no s√≠mbolo de internet na tela (ser√° um √≠cone de wi-fi ou de globo) e me envie uma foto das informa√ß√µes;
4. Na tela inicial, clique no √≠cone que est√° no canto inferior esquerdo da tela e tamb√©m me envie uma foto.
```

-- 4 FOTOS DO EQUIPAMENTO

üîç Clique duas vezes para ampliar a foto acima.

## 2. CADASTRO NO SISTEMA

> Ap√≥s conseguir todas as fotos necess√°rias para realizar a comunica√ß√£o, partimos para o cadastro do equipamento, que tamb√©m tem diversas configura√ß√µes para serem feitas, vamos come√ßar definindo cada campo que voc√™ ter√° que preencher para cadastrar um equipamento do modelo **SINDNOX** ou **IREP**.

### **DESCRI√á√ÉO DO EQUIPAMENTO**

‚ÑπÔ∏è Aqui voc√™ ir√° preencher com um **nome** para o equipamento, n√£o far√° nenhuma diferen√ßa na comunica√ß√£o, √© apenas para **identificar o equipamento** dentro do sistema.

### **EMPRESA**

‚ÑπÔ∏è Esse ser√° o campo onde voc√™ ir√° definir qual a empresa que ficar√° **vinculada ao rel√≥gio**, lembrando que deve ser a mesma empresa que os funcion√°rios est√£o cadastrados.

### **SITUA√á√ÉO DO CADASTRO**

‚ÑπÔ∏è Esse campo define qual o status atual do equipamento, **Ativo** ou **Inativo**, no caso de um cadastro, defina o como **Ativo**!

### **MODELO DO EQUIPAMENTO**

‚ÑπÔ∏è Ambos os equipamentos podem variar seu modelo (para **IREP** ou **SINDNOX**), entre portaria **1510** ou portaria **671**, para definir qual o modelo correto, segue algumas especifica√ß√µes:

### **Modelos**

- **IREP:** √önico rel√≥gio da DIXI que possui impressora
    - **IREP - Port. 671** na [foto 2]() o **`Id.Software`** deve ser acima de `3.0.0.0`
    - **IREP - Port. 1510** na [foto 2]() o **`Id.Software`** deve ser abaixo de `2.0.0.44`
    
- **SINDNOX:** Ser√° aquele rel√≥gio que **N√ÉO** possui a **impressora**
    - **SINDNOX - Port. 671** na [foto 2]() o **`Id.Software`** deve ser acima de `3.0.0.0`
    - **SINDNOX - Port. 373** na [foto 2]() o **`Id.Software`** deve ser abaixo de `2.0.0.44`
    
üí° OBS: Caso fique com d√∫vidas, consulte novamente as [fotos do equipamento]().

### TIPO DE BIOMETRIA

‚ÑπÔ∏è Esse campo define o tipo de biometria do equipamento, que no momento, temos apenas 2 utilizadas, **`Embarcada`** ou **`Facial`.**

### FUSO HOR√ÅRIO

‚ÑπÔ∏è Aqui voc√™ seleciona qual ser√° o fuso hor√°rio do equipamento, por enquanto, no dia que estou fazendo esse documento, temos apenas o **`Brasil`**.

### MODO DE CONEX√ÉO DO REL√ìGIO

‚ÑπÔ∏è Aqui n√≥s iremos manter sempre como **`Cliente`**.

### **IP**

‚ÑπÔ∏è Essa op√ß√£o vai variar de equipamento para equipamento, mas voc√™ pode verificar na [foto 3]() qual o `IP` do equipamento.

### **PORTA**

‚ÑπÔ∏è Ambos os equipamentos podem ter uma varia√ß√£o da porta, entre elas: **3000** ou **3671.** para definir qual a porta correta, √© bem simples:

**‚Äì PORTA 3671:** Ser√° para aqueles da portaria `671`

**‚Äì PORTA 3000:** Ser√° para aqueles da portaria `1510`

### **N√öMERO DE S√âRIE**

‚ÑπÔ∏è Campo onde deve ser preenchido com o n√∫mero de s√©rie do equipamento, encontrado na [foto 4]().

### **MAC**

‚ÑπÔ∏è O endere√ßo MAC consiste em uma combina√ß√£o de n√∫meros e letras que permite a comunica√ß√£o eficiente entre os dispositivos em uma rede local, voc√™ pode obt√™-lo atrav√©s da [foto 3]().

### **√öLTIMO NSR**

‚ÑπÔ∏è Esse valor n√£o √© definido pelo usu√°rio, o sistema define ele automaticamente com base no √∫ltimo [NSR]() coletado pelo rel√≥gio, ent√£o no momento de cadastrar o equipamento, defina-o como **`0`**, que √© o seu valor inicial.

### **N√ÉO VALIDAR EMPRESA**

‚ÑπÔ∏è Caso ativa essa op√ß√£o, o sistema n√£o far√° a valida√ß√£o da empresa do equipamento, enviando as marca√ß√µes para o funcion√°rio independente de ser a mesma empresa do rel√≥gio ou n√£o.

### **USU√ÅRIO**

‚ÑπÔ∏è Campo respons√°vel por definir qual o usu√°rio da comunica√ß√£o, **SEMPRE** defina-o como **‚Äúteste fabrica‚Äù**.

### **SENHA**

‚ÑπÔ∏è Campo respons√°vel por definir a senha do usu√°rio de comunica√ß√£o, **SEMPRE** defina-o como **‚Äú111111‚Äù**.

## 3. PROCEDIMENTOS

> Chegando nos procedimentos para comunicar o equipamento, temos que nos atentar que h√° **2** maneiras diferentes de realizar a comunica√ß√£o**:**

### **COMUNICA√á√ÉO ATRAV√âS DO WEB SERVER**

üí° Acess√≠vel somente quando o aparelho est√° conectado a um cabo de rede. [Saiba mais.]()

üí° O computador deve estar na **mesma rede** que o equipamento, essa verifica√ß√£o pode e deve ser confirmada pelo respons√°vel da rede ou pelo *T.I.*
FOTO WEB SERVER

> Ap√≥s atender ambos os requisitos [üí°], passamos para os procedimentos necess√°rios, ent√£o aqui est√° uma ordem cronol√≥gica das informa√ß√µes que devem ser verificadas e tamb√©m os procedimentos que ser√£o executados.
> 

1. O primeiro passo √© acessar o ***web server*** do equipamento. Para isso, no seu navegador, v√° na barra de pesquisa e digite o **‚ÄúIP‚Äù**, localizado na ***FOTO 3***, **sem os zeros a esquerda**, segue exemplo:

    FOTO ENTRANDO WEB SERVER IP

2. Depois disso, voc√™ ir√° se deparar com a tela de login. Para acessar, as credenciais padr√µes tanto para o **IREP** quanto para o **SINDNOX**, ser√°:
    
    > **Usu√°rio:** teste fabrica

    > **Senha:** 111111

    ‚ö†Ô∏è Antes de entrar, verifique se n√£o h√° espa√ßos antes ou depois dos valores.

3. No terceiro passo, nos deparamos com o **Menu** principal do `web server`. Vale ressaltar que nesse manual, o foco ser√° apenas a **COMUNICA√á√ÉO**, outras configura√ß√µes que temos no **`web server`** ser√£o deixadas de lado por enquanto. 

    Inicie clicando em **`Configura√ß√µes`** para acessar as configura√ß√µes internas de comunica√ß√£o.

    FOTO WEB SERVER
    

4. Na tela de **`Configura√ß√µes`** aparecer√£o as mesmas informa√ß√µes que podemos obter nas fotos do equipamento, por√©m as mais importantes ser√£o: 

- **Identificador do software**
- **N√∫mero do REP** (n√∫mero de s√©rie do equipamento) 
- **Eventos** ([NSR]() do equipamento).

    **Nesta tela, √© recomendado salvar essas informa√ß√µes para caso precise futuramente.**

    FOTO WEB SERVER
    
5. Clicando na lateral esquerda em **`Comunica√ß√£o`** voc√™ ver√° essa tela, √© aqui que n√≥s faremos a comunica√ß√£o do equipamento, explicaremos abaixo como voc√™ ir√° preencher cada campo, mas sem especifica√ß√µes t√©cnicas.

    FOTO WEB SERVER

## CONFIGURA√á√ïES COMUNICA√á√ÉO WEB SERVER

### Tipo de comunica√ß√£o

> Sempre deixaremos `Tcp/Ip` selecionado.

### IP

> Esse √© o endere√ßo de IP local do rel√≥gio, √© o que voc√™ usa para acessar o web server, recomendamos que N√ÉO troque.

### Porta TCP

> Porta de comunica√ß√£o com o servidor, esse valor pode variar, mas para saber corretamente qual a porta, [clique aqui]().

### M√°scara de sub-rede

> Por padr√£o, esse valor ser√° definido automaticamente, mas caso todas as outras configura√ß√µes estejam corretas e o equipamento n√£o comunique, vale ressaltar que esse campo influencia. [Clique aqui para saber mais.]()

### Endere√ßo MAC

> Esse √© um identificador do equipamento, n√£o ir√° impactar diretamente na conex√£o com o sistema, mas pode impactar no acesso do equipamento √† rede de internet.

### Gateway

> Assim como a m√°scara de rede, por padr√£o ele vai vir configurado corretamente, mas caso n√£o esteja, irei te mostrar abaixo como conseguir cada valor. [Clique aqui para saber mais.]()

### Endere√ßo DNS

> Nunca iremos usar esse n√∫mero, ele n√£o ir√° interferir na comunica√ß√£o, ent√£o deixe como est√°.

### DHCP

> Ele √© respons√°vel por selecionar um `IP` dispon√≠vel na rede, para que o rel√≥gio se conecte sem problemas na rede de internet local (onde o rel√≥gio est√° localizado).

### TCP Mode

> Sempre usaremos `Modo Cliente`.

### Endere√ßo Servidor

> Para o servidor do WEB DIXI, esse campo ser√° `003.093.251.124`.

### Porta Servidor

> Porta de comunica√ß√£o com o servidor, esse valor pode variar, mas para saber corretamente qual a porta, [clique aqui]().

### Usar DNS

> Sempre deixaremos `Desabilitado`, lembre-se disso.

### Timeout client

> Sempre deixaremos no valor padr√£o: `3`.

### Endere√ßo Servidor

> Neste campo abaixo, deixaremos vazio.

üì¢ Ap√≥s preencher todas as informa√ß√µes corretamente no *web server* e **salvar**, o seu equipamento j√° estar√° comunicando com o ***WEB DIXI*.**

### **COMUNICA√á√ÉO DIRETO NO EQUIPAMENTO**

> Nesse formato iremos analisar a **[FOTO 3]()** para identificar se o equipamento est√° ou n√£o conectado via cabo de rede. Verifique essa informa√ß√£o observando o campo **`ETH`** na foto em quest√£o, caso esteja a mensagem **‚ÄúSem rede‚Äù**, significa que n√£o h√° cabo de rede conectado, ent√£o teremos que comunic√°-lo via WIFI.

üí° Caso esteja conectado com cabo, recomendamos fortemente que comunique-o pelo web server utilizando o procedimento acima.

Comunicando via WIFI teremos que fazer os procedimentos diretamente no equipamento f√≠sico, ent√£o nessa se√ß√£o vamos passar os procedimentos de como proceder nesse caso:

1. Inicialmente, na tela inicial de seu rel√≥gio clique na **`engrenagem`** no centro da tela ou ent√£o em **`MENU`** no teclado ao lado do num√©rico.
2. Depois disso, colocamos a senha padr√£o: **`111111`** e o CPF padr√£o **`265`** para acessarmos o painel de configura√ß√µes.

    FOTO REL√ìGIO

3. Na sequ√™ncia, clique no **`n√∫mero 3`** do teclado num√©rico ou na pr√≥pria tela em **`3- Comunic.`** para acessarmos as configura√ß√µes de comunica√ß√£o do equipamento.

4. Temos 2 caminhos diferentes de configura√ß√µes, o caminho para configurarmos as op√ß√µes de quando o equipamento est√° conectado no cabo de rede e tamb√©m a etapa para o WIFI, ent√£o nesse passo, vamos escolher a op√ß√£o **`2- WiFi`** clicando direto na tela ou apertando o **`n√∫mero 2`** no teclado num√©rico.

5. Antes de configurarmos a rede que conectar√° no equipamento, vamos modificar as configura√ß√µes de comunica√ß√£o indo em **`5- Avan√ßado`** clicando diretamente na tela ou ent√£o apertando o **`n√∫mero 5`** no teclado num√©rico.

6. Na pr√≥xima tela, temos diversas configura√ß√µes de comunica√ß√£o, mas por enquanto, vamos clicar nas 2 setas para conseguir chegar na op√ß√£o do **`modo cliente`**, que √© onde iremos realizar todas as mudan√ßas.

7. Nessa etapa, √© importante lembrarmos que para modificar o ***IP do servidor, PORTA e desativar o DNS***, temos que ir no **`9- modo cliente`**.

    > N√£o tem muito o que explicar por aqui, apenas seguirmos esses pr√≥ximos passos

üöß Caso o modo cliente esteja **ativo**, temos que desativ√°-lo e depois ativ√°-lo novamente para entrarmos nas configura√ß√µes desejadas, ent√£o caso ele esteja ativo, clique nele, depois clique no **bot√£o verde** para desativar e em seguida, clique em **`Modo Cliente`** **novamente**.

1. A primeira mensagem que aparecer√° √©: **‚ÄúUsar DNS?‚Äù**, aqui √© importante lembrar que o **DNS DEVE ESTAR DESATIVADO**, ent√£o clique no **‚ÄúX‚Äù** vermelho para n√£o utilizar.

2. Depois disso ser√° necess√°rio colocar o IP do servidor, **aten√ß√£o** para n√£o errar esse n√∫mero. [Como saber o IP do servidor?]()

3. Na sequ√™ncia, aparecer√° outra pergunta: **‚ÄúUsar Reconex√£o Imediata?‚Äù**. Aqui sempre deixaremos como **SIM**, ent√£o aperte no **VERDE**.

4. Na **PORTA**, √© importante dizer que ambos os equipamentos podem ter uma varia√ß√£o da porta, entre elas: **3000** ou **3671.** para definir qual a porta correta, √© bem simples:
    1. **Equipamentos da portaria 671:** Porta **03671**.
    2. **Equipamentos da portaria 1510:** Porta **03000**.
5. A pr√≥xima etapa √© o ‚Äú**Tempo‚Äù**, que por padr√£o, iremos sempre deixar **‚Äú03‚Äù** e apertar no **VERDE**.
6. Prontinho! A configura√ß√£o do modo cliente estar√° finalizada com sucesso quando aparece a mensagem **‚ÄúSucesso ao salvar‚Äù**.

***MANUAL EM DESENVOLVIMENTO, TREINAMENTO PRONTO***

[‚Äî Coletor Facial](https://www.canva.com/design/DAF0U925HNg/7fGyu6YxZ9bNDiOo844H0Q/edit)

[Continue sua integra√ß√£o]()